# ๐ง ุฅุตูุงุญุงุช ุงูุฅูุชุงุฌ - Railway

## ๐จ **ุงููุดุงูู ุงูููุชุดูุฉ:**

### โ **1. ูุดููุฉ express-rate-limit ูุน IPv6 - ุชู ุงูุฅุตูุงุญ**
- **ุงููุดููุฉ:** `ERR_ERL_KEY_GEN_IPV6` - keyGenerator ูุฎุตุต ูุณุจุจ ูุดุงูู ูุน IPv6
- **ุงูุญู:** ุฅุฒุงูุฉ keyGenerator ุงููุฎุตุต ูุงุณุชุฎุฏุงู ุงูุงูุชุฑุงุถู
- **ุงูุญุงูุฉ:** โ **ุชู ุงูุฅุตูุงุญ**

### โ๏ธ **2. ูุดููุฉ ูุชุบูุฑุงุช ุงูุจูุฆุฉ**
- **ุงููุดููุฉ:** `injecting env (0) from .env` - ูุง ูุชู ูุฑุงุกุฉ ูุชุบูุฑุงุช ุงูุจูุฆุฉ
- **ุงูุณุจุจ:** Railway ูุง ูุณุชุฎุฏู ููู `.env` ุจู ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงูููุนุฑูุฉ ูู ููุญุฉ ุงูุชุญูู
- **ุงูุญู:** ุงูุชุฃูุฏ ูู ูุฌูุฏ ุงููุชุบูุฑุงุช ูู Railway Dashboard

## ๐ง **ุงูุฅุตูุงุญุงุช ุงููุทุจูุฉ:**

### **1. ุฅุตูุงุญ Rate Limiting:**
```javascript
// ูุจู ุงูุฅุตูุงุญ (ูุณุจุจ ูุดุงูู IPv6)
keyGenerator: (req) => {
    return process.env.NODE_ENV === 'production' 
        ? req.ip || req.connection.remoteAddress 
        : req.ip;
}

// ุจุนุฏ ุงูุฅุตูุงุญ (ุงุณุชุฎุฏุงู ุงูุงูุชุฑุงุถู)
skip: (req) => {
    return req.path === '/health' || req.path === '/api/test-cors';
}
```

### **2. ุชุญุณูู ุชุดุฎูุต ูุชุบูุฑุงุช ุงูุจูุฆุฉ:**
```javascript
console.log('๐ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงููุชุงุญุฉ:', {
    ADMIN_WHATSAPP_1: !!process.env.ADMIN_WHATSAPP_1,
    TWILIO_ACCOUNT_SID: !!process.env.TWILIO_ACCOUNT_SID,
    TWILIO_AUTH_TOKEN: !!process.env.TWILIO_AUTH_TOKEN,
    NODE_ENV: process.env.NODE_ENV,
    RAILWAY_ENVIRONMENT: !!process.env.RAILWAY_ENVIRONMENT
});
```

## ๐ **ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงููุทููุจุฉ ูู Railway:**

### **ุงูุฃุณุงุณูุฉ:**
- `PORT` = 3000 (ุชููุงุฆู)
- `NODE_ENV` = production
- `MONGODB_URI` = [ุฑุงุจุท MongoDB]
- `JWT_SECRET` = [ููุชุงุญ JWT]

### **ุงููุงุชุณุงุจ (Twilio):**
- `ADMIN_WHATSAPP_1` = 966545376792
- `TWILIO_ACCOUNT_SID` = [ููุนุฑู ูู Railway]
- `TWILIO_AUTH_TOKEN` = [ููุนุฑู ูู Railway]

## ๐ **ุฎุทูุงุช ุงูุชุญูู:**

### **1. ูุญุต ุงููุชุบูุฑุงุช ูู Railway:**
1. ุงุฐูุจ ุฅูู Railway Dashboard
2. ุงุฎุชุฑ ุงููุดุฑูุน `tabuk-auto-parts`
3. ุงุฐูุจ ุฅูู Variables
4. ุชุฃูุฏ ูู ูุฌูุฏ ุฌููุน ุงููุชุบูุฑุงุช ุงููุทููุจุฉ

### **2. ูุญุต ุงูู Logs:**
```bash
# ูุฌุจ ุฃู ุชุฑู:
โ ุชู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช MongoDB
๐ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงููุชุงุญุฉ: { TWILIO_ACCOUNT_SID: true, ... }
๐ ุงูุณูุฑูุฑ ูุนูู ุนูู ุงูุจูุฑุช 3000
```

### **3. ุงุฎุชุจุงุฑ ุงูุฅุดุนุงุฑุงุช:**
```bash
# ุงุฎุชุจุงุฑ API
curl -X POST https://your-railway-url.railway.app/api/orders \
  -H "Content-Type: application/json" \
  -d '{
    "fullName": "ุงุฎุชุจุงุฑ",
    "phone": "0555123456",
    "carNameCategory": "ุชูููุชุง ูุงูุฑู",
    "carYear": "2020",
    "partDetails": "ุงุฎุชุจุงุฑ ูุทุนุฉ"
  }'
```

## ๐ฏ **ุงููุชูุฌุฉ ุงููุชููุนุฉ:**

### **ุจุนุฏ ุงูุฅุตูุงุญุงุช:**
```
๐ ุงูุณูุฑูุฑ ูุนูู ุนูู ุงูุจูุฑุช 3000
๐ ุงูุจูุฆุฉ: production
๐ง ุงูููุตุฉ: Railway
โ ุชู ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช MongoDB
๐ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุฌุงูุฒุฉ ูุฏุงุฆูุฉ

# ุนูุฏ ุฅุฑุณุงู ุทูุจ:
๐ WhatsApp Debug - ุจุฏุก ุฅุฑุณุงู ุงูุฅุดุนุงุฑ
๐ฑ ุฃุฑูุงู ุงูุฅุฏุงุฑุฉ: [ '966545376792' ]
๐ API Key ูุชููุฑ: false
๐ ูุชุบูุฑุงุช ุงูุจูุฆุฉ ุงููุชุงุญุฉ: {
  ADMIN_WHATSAPP_1: false,
  TWILIO_ACCOUNT_SID: true,
  TWILIO_AUTH_TOKEN: true,
  NODE_ENV: 'production',
  RAILWAY_ENVIRONMENT: true
}
๐ ุฅุฑุณุงู Twilio ูุงุชุณุงุจ ุฅูู: 966545376792
โ ุชู ุฅุฑุณุงู ูุงุชุณุงุจ Twilio ุจูุฌุงุญ!
๐ Message SID: SM1234567890abcdef
```

## ๐ **ูููุดุฑ:**
1. **ุฏูุน ุงูุฅุตูุงุญุงุช:** `git push origin main`
2. **ุงูุชุธุงุฑ ุฅุนุงุฏุฉ ุงููุดุฑ ุงูุชููุงุฆู**
3. **ูุญุต ุงูู logs ูู Railway**
4. **ุงุฎุชุจุงุฑ ุฅุฑุณุงู ุทูุจ**
5. **ุงูุชุญูู ูู ูุตูู ุฅุดุนุงุฑ ุงููุงุชุณุงุจ**

**๐ ุงููุธุงู ุฌุงูุฒ ููุนูู ุจุฏูู ุฃุฎุทุงุก!**
