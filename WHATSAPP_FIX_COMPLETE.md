# ๐ง ุฏููู ุฅุตูุงุญ ุฅุดุนุงุฑุงุช ุงููุงุชุณ ุงุจ - ุงูุญู ุงููุงูู

## ๐ ุงููุดููุฉ ุงูููุชุดูุฉ

ุฅุดุนุงุฑุงุช ุงููุงุชุณ ุงุจ ูุง ุชุตู ููุนููุงุก ุนูุฏ ุฑูุน ุทูุจ ุฌุฏูุฏ ุจุณุจุจ:

1. **ุนุฏู ุชุนุฑูู `TWILIO_FROM_WHATSAPP`** - ุงููุชุบูุฑ ุงูุฃุณุงุณู ูุฑูู ุงููุงุชุณ ุงุจ ุงููุฑุณู
2. **ุนุฏู ูุฌูุฏ ููู `.env`** - ููู ุงูุฅุนุฏุงุฏุงุช ุงูุจูุฆูุฉ ููููุฏ
3. **ุงูุชุญูู ุงูุตุงุฑู ูู ุงูุตูุบุฉ** - ุงูููุฏ ูุชุทูุจ ุตูุบุฉ ูุญุฏุฏุฉ ููุฑูู

## โ ุงูุญููู ุงููุทุจูุฉ

### 1. ุฅูุดุงุก ููู `.env`
ุชู ุฅูุดุงุก ููู `.env` ูุน ุฌููุน ุงููุชุบูุฑุงุช ุงููุทููุจุฉ

### 2. ุชุญุณูู ููุฏ `server.js`
- ุฅุถุงูุฉ ูุฑููุฉ ูู ูุจูู ุตูุบุฉ ุฑูู ุงููุงุชุณ ุงุจ
- ุชุญุณูู ุฑุณุงุฆู ุงูุฎุทุฃ ูุงูุชุดุฎูุต
- ุฅุถุงูุฉ ุณุฌูุงุช (logs) ููุตูุฉ

### 3. ุฅูุดุงุก ุณูุฑูุจุช ุงุฎุชุจุงุฑ
ููู `test-whatsapp.js` ูุงุฎุชุจุงุฑ ุงูุฅุนุฏุงุฏุงุช

## ๐ ุฎุทูุงุช ุงูุชุทุจูู

### ุงูุฎุทูุฉ 1: ุชุญุฏูุซ ููู `.env`

ุงูุชุญ ููู `.env` ูุญุฏูุซ ุงูููู ุงูุชุงููุฉ:

```env
# ุงุณุชุจุฏู ูุฐู ุงูููู ุจูููู ุงูุญููููุฉ ูู Twilio
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_FROM_WHATSAPP=whatsapp:+14155238886  # ุฑูู Twilio Sandbox ุฃู ุฑููู ุงููุนุชูุฏ

# ุฑูู ุงููุงุชุณ ุงุจ ููุฅุฏุงุฑุฉ (ุณูุณุชูุจู ุงูุฅุดุนุงุฑุงุช)
ADMIN_WHATSAPP_1=966545376792  # ุถุน ุฑููู ููุง
```

### ุงูุฎุทูุฉ 2: ุงูุญุตูู ุนูู ุจูุงูุงุช Twilio

1. ุณุฌูู ูู [Twilio Console](https://console.twilio.com)
2. ุงุญุตู ุนูู:
   - **Account SID**: ูู Dashboard
   - **Auth Token**: ูู Dashboard
   - **WhatsApp Number**: ูู Messaging > Try it out > Send a WhatsApp message

#### ููุงุฎุชุจุงุฑ (Sandbox):
1. ุงุฐูุจ ุฅูู: Messaging > Try it out > Send a WhatsApp message
2. ุณุชุญุตู ุนูู ุฑูู ูุซู: `whatsapp:+14155238886`
3. ุงุชุจุน ุงูุชุนูููุงุช ูุฑุจุท ุฑููู (ุฃุฑุณู ุฑุณุงูุฉ ููุฑูู)

#### ููุฅูุชุงุฌ:
1. ุงุฐูุจ ุฅูู: Messaging > Senders > WhatsApp senders
2. ุงุทูุจ ุฑูู ูุงุชุณ ุงุจ ุฎุงุต ุจู
3. ุงูุชุธุฑ ุงูููุงููุฉ ูู WhatsApp Business

### ุงูุฎุทูุฉ 3: ุงุฎุชุจุงุฑ ุงูุฅุนุฏุงุฏุงุช

```bash
# ุชุซุจูุช ุงูููุชุจุงุช ุงููุทููุจุฉ
npm install twilio dotenv

# ุชุดุบูู ุงูุงุฎุชุจุงุฑ
node test-whatsapp.js
```

### ุงูุฎุทูุฉ 4: ุชุดุบูู ุงูุฎุงุฏู

```bash
# ุชุดุบูู ุงูุฎุงุฏู
npm start

# ุฃู ููุชุทููุฑ
npm run dev
```

### ุงูุฎุทูุฉ 5: ุงุฎุชุจุงุฑ ุฅุฑุณุงู ุทูุจ

```bash
curl -X POST http://localhost:3000/api/orders \
  -H "Content-Type: application/json" \
  -d '{
    "fullName": "ุฃุญูุฏ ูุญูุฏ",
    "phone": "0555123456",
    "carNameCategory": "ุชูููุชุง ูุงูุฑู",
    "carYear": "2020",
    "partDetails": "ูุตุจุงุญ ุฃูุงูู ูููู"
  }'
```

## ๐ ูุคุดุฑุงุช ุงููุฌุงุญ

ุนูุฏ ูุฌุงุญ ุงูุฅุนุฏุงุฏุงุชุ ุณุชุธูุฑ ูู ุงูุณุฌูุงุช:

```
โ WhatsApp notifications enabled via Twilio
๐ฑ From number: whatsapp:+1415******
๐ค Sending WhatsApp to: whatsapp:+966******
โ WhatsApp sent successfully! SID: SM1234567890abcdef
```

## ๐ ุชุดุฎูุต ุงููุดุงูู

### ุงููุดููุฉ: "WhatsApp disabled"
**ุงูุญู**: ุชุญูู ูู ูุฌูุฏ ุงููุชุบูุฑุงุช ุงูุซูุงุซุฉ ูู `.env`:
- TWILIO_ACCOUNT_SID
- TWILIO_AUTH_TOKEN  
- TWILIO_FROM_WHATSAPP

### ุงููุดููุฉ: Error code 20003
**ุงูุญู**: ุจูุงูุงุช Twilio ุฎุงุทุฆุฉุ ุชุญูู ูู Account SID ู Auth Token

### ุงููุดููุฉ: Error code 63016
**ุงูุญู**: ุงููุณุชูุจู ูู ูุจุฏุฃ ูุญุงุฏุซุฉ. ูุฌุจ:
1. ุฅุฑุณุงู ุฑุณุงูุฉ ูู ุฑูู ุงููุณุชูุจู ุฅูู ุฑูู Twilio
2. ุฃู ุงุณุชุฎุฏุงู Template Messages ุงููุนุชูุฏุฉ

### ุงููุดููุฉ: Error code 21211
**ุงูุญู**: ุตูุบุฉ ุฑูู ุงููุงุชู ุฎุงุทุฆุฉ. ุงุณุชุฎุฏู: +966XXXXXXXXX

## ๐ฑ ุฅุนุฏุงุฏ Twilio Sandbox (ููุชุฌุฑุจุฉ ุงููุฌุงููุฉ)

1. ุงุฐูุจ ุฅูู [Twilio Sandbox](https://console.twilio.com/us1/develop/sms/try-it-out/whatsapp-learn)
2. ุงูุชุญ ูุงุชุณ ุงุจ ุนูู ูุงุชูู
3. ุฃุฑุณู ุงูููุฏ ุงููุนุฑูุถ (ูุซู: "join space-cloud") ุฅูู ุงูุฑูู ุงููุนุฑูุถ
4. ุณุชุญุตู ุนูู ุฑุณุงูุฉ ุชุฃููุฏ
5. ุงูุขู ููููู ุงุณุชูุจุงู ุงูุฑุณุงุฆู ูู ุงููุธุงู

## ๐ฏ ุงูุฎุทูุงุช ุงูุชุงููุฉ

1. **ููุชุทููุฑ**: ุงุณุชุฎุฏู Twilio Sandbox
2. **ููุฅูุชุงุฌ**: 
   - ุงุญุตู ุนูู ุฑูู ูุงุชุณ ุงุจ ูุนุชูุฏ ูู Twilio
   - ุฃูุดุฆ Message Templates ูุนุชูุฏุฉ ูู WhatsApp
   - ุงุณุชุฎุฏู Content API ุจุฏูุงู ูู ุงูุฑุณุงุฆู ุงููุตูุฉ

## ๐ก ูุตุงุฆุญ ูููุฉ

1. **ูุง ุชุดุงุฑู ุจูุงูุงุช Twilio** - ุงุญุชูุธ ุจูุง ุณุฑูุฉ
2. **ุงุณุชุฎุฏู ูุชุบูุฑุงุช ุงูุจูุฆุฉ** - ูุง ุชุถุน ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ ูู ุงูููุฏ
3. **ุฑุงูุจ ุงูุฑุตูุฏ** - Twilio ูุฏููุนุ ุชุงุจุน ุงุณุชููุงูู
4. **ุงุฎุชุจุฑ ูุจู ุงูุฅูุชุงุฌ** - ุงุณุชุฎุฏู Sandbox ุฃููุงู

## โจ ุงูุฎูุงุตุฉ

ุงููุธุงู ุงูุขู ุฌุงูุฒ ูุฅุฑุณุงู ุฅุดุนุงุฑุงุช ุงููุงุชุณ ุงุจ. ุชุฃูุฏ ูู:
- โ ุชุญุฏูุซ ููู `.env` ุจูููู ุงูุญููููุฉ
- โ ุชุดุบูู `node test-whatsapp.js` ููุชุฃูุฏ
- โ ูุฑุงูุจุฉ ุงูุณุฌูุงุช ุนูุฏ ุฅุฑุณุงู ุงูุทูุจุงุช

---

๐ **ููุฏุนู**: ุฑุงุฌุน [Twilio WhatsApp Documentation](https://www.twilio.com/docs/whatsapp)